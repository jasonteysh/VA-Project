<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Visual Analytics Project: Assignment - Jason Tey</title>

<meta property="description" itemprop="description" content="This post presents a literature review, recommendations, and prototype of proposed modules to fill existing gaps in analytical tools by enhancing user experience using a web-based application.&#10;&#10;This post constitutes part of the assessment for credit towards the Singapore Management Univerisity module ISSS608 Visual Analytics and Application, AY2020/2021 Term 2."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-04-11"/>
<meta property="article:created" itemprop="dateCreated" content="2021-04-11"/>
<meta name="article:author" content="Jason Tey"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Visual Analytics Project: Assignment - Jason Tey"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="This post presents a literature review, recommendations, and prototype of proposed modules to fill existing gaps in analytical tools by enhancing user experience using a web-based application.&#10;&#10;This post constitutes part of the assessment for credit towards the Singapore Management Univerisity module ISSS608 Visual Analytics and Application, AY2020/2021 Term 2."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Visual Analytics Project"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Visual Analytics Project: Assignment - Jason Tey"/>
<meta property="twitter:description" content="This post presents a literature review, recommendations, and prototype of proposed modules to fill existing gaps in analytical tools by enhancing user experience using a web-based application.&#10;&#10;This post constitutes part of the assessment for credit towards the Singapore Management Univerisity module ISSS608 Visual Analytics and Application, AY2020/2021 Term 2."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Assignment - Jason Tey"]},{"type":"character","attributes":{},"value":["This post presents a literature review, recommendations, and prototype of proposed modules to fill existing gaps in analytical tools by enhancing user experience using a web-based application.\n\nThis post constitutes part of the assessment for credit towards the Singapore Management Univerisity module ISSS608 Visual Analytics and Application, AY2020/2021 Term 2."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Jason Tey"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["https://jason-tey.netlify.app/"]}},"value":[{"type":"NULL"}]}]}]},{"type":"character","attributes":{},"value":["4-11-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["assignment-jason-tey_files/anchor-4.2.2/anchor.min.js","assignment-jason-tey_files/bowser-1.9.3/bowser.min.js","assignment-jason-tey_files/distill-2.2.21/template.v2.js","assignment-jason-tey_files/figure-html5/unnamed-chunk-19-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-21-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-22-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-23-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-24-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-25-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-26-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-27-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-28-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-29-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-30-1.png","assignment-jason-tey_files/figure-html5/unnamed-chunk-34-1.png","assignment-jason-tey_files/header-attrs-2.6/header-attrs.js","assignment-jason-tey_files/htmlwidgets-1.5.1/htmlwidgets.js","assignment-jason-tey_files/jquery-1.11.3/jquery.min.js","assignment-jason-tey_files/jquery-1.12.4/jquery.min.js","assignment-jason-tey_files/leaflet-1.3.1/images/layers-2x.png","assignment-jason-tey_files/leaflet-1.3.1/images/layers.png","assignment-jason-tey_files/leaflet-1.3.1/images/marker-icon-2x.png","assignment-jason-tey_files/leaflet-1.3.1/images/marker-icon.png","assignment-jason-tey_files/leaflet-1.3.1/images/marker-shadow.png","assignment-jason-tey_files/leaflet-1.3.1/leaflet.css","assignment-jason-tey_files/leaflet-1.3.1/leaflet.js","assignment-jason-tey_files/leaflet-binding-2.0.3/leaflet.js","assignment-jason-tey_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js","assignment-jason-tey_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js","assignment-jason-tey_files/leafletfix-1.0.0/leafletfix.css","assignment-jason-tey_files/Proj4Leaflet-1.0.1/proj4-compressed.js","assignment-jason-tey_files/Proj4Leaflet-1.0.1/proj4leaflet.js","assignment-jason-tey_files/rstudio_leaflet-1.3.1/images/1px.png","assignment-jason-tey_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css","assignment-jason-tey_files/webcomponents-2.0.0/webcomponents.js","data/geospatial/LGA_2020_AUST.dbf","data/geospatial/LGA_2020_AUST.prj","data/geospatial/LGA_2020_AUST.shp","data/geospatial/LGA_2020_AUST.shx","data/geospatial/LGA_2020_AUST.xml","data/listings.csv","media/concept.jpg","media/pic1.PNG","media/pic2.PNG","media/pic3.PNG","media/pic4.PNG","media/pic5.PNG","media/pic6.PNG"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
            .filter(function(item) { return !!item.description; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description}
                </div>
                <div class="search-item-preview">
                  <img src="${suggestion.preview ? offsetURL(suggestion.preview) : ''}"</img>
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.6/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Assignment - Jason Tey","description":"This post presents a literature review, recommendations, and prototype of proposed modules to fill existing gaps in analytical tools by enhancing user experience using a web-based application.\n\nThis post constitutes part of the assessment for credit towards the Singapore Management Univerisity module ISSS608 Visual Analytics and Application, AY2020/2021 Term 2.","authors":[{"author":"Jason Tey","authorURL":{"https://jason-tey.netlify.app/":{}},"affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-04-11T00:00:00.000+08:00","citationText":"Tey, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Visual Analytics Project</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Assignment - Jason Tey</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>This post presents a literature review, recommendations, and prototype of proposed modules to fill existing gaps in analytical tools by enhancing user experience using a web-based application.</p>
<p>This post constitutes part of the assessment for credit towards the Singapore Management Univerisity module ISSS608 Visual Analytics and Application, AY2020/2021 Term 2.</p></p>
</div>

<div class="d-byline">
  Jason Tey true 
  
<br/>4-11-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1: Introduction</a>
<ul>
<li><a href="#objective">1.1 Objective</a></li>
<li><a href="#literature-review">1.2 Literature Review</a></li>
<li><a href="#existing-gaps-proposed-enhancement">1.3 Existing Gaps &amp; Proposed Enhancement</a></li>
</ul></li>
<li><a href="#storyboard">2: Storyboard</a>
<ul>
<li><a href="#sub-module-1-geospatial-visualization">2.1 Sub-module 1: Geospatial Visualization</a></li>
<li><a href="#sub-module-2-geospatial-analysis">2.2 Sub-module 2: Geospatial Analysis</a></li>
</ul></li>
<li><a href="#data-extracting-wrangling-and-preparation">3: Data Extracting, Wrangling, and Preparation</a></li>
<li><a href="#testing-and-prototyping">4: Testing and Prototyping</a>
<ul>
<li><a href="#sub-module-1---geospatial-visualization">4.1: Sub-module 1 - Geospatial Visualization</a>
<ul>
<li><a href="#dot-density-maps">4.1.1: Dot Density Maps</a></li>
<li><a href="#proportional-symbol-map">4.1.2: Proportional Symbol Map</a></li>
<li><a href="#cartogram">4.1.3: Cartogram</a></li>
<li><a href="#choropleth-map">4.1.4: Choropleth Map</a></li>
<li><a href="#further-discussion-and-prototyping-of-choropleth-map">4.1.5: Further Discussion and Prototyping of Choropleth Map</a></li>
</ul></li>
<li><a href="#testing-and-prototyping-sub-module-2---geospatial-analysis">4.2: Testing and Prototyping Sub-module 2 - Geospatial Analysis</a>
<ul>
<li><a href="#patial-weights-choice-of-neighborhood">4.2.1 patial Weights: Choice of Neighborhood</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="introduction">1: Introduction</h1>
<p>This section outlines the objective of this project and provides a literature review on how analysis are currently performed, what the existing gaps are, and recommends enhancements to better user experience on using the analysis techniques.</p>
<h2 id="objective">1.1 Objective</h2>
<p>This post forms part of a larger visual analytics project that aims to develop a web-based application to enhance user experience in employing analysis techniques. The analytics project aims to develop user-friendly analytical tools in the following areas:</p>
<ul>
<li>Exploratory Data Analysis</li>
<li>Clustering Analysis</li>
<li>Geospatial Data Analysis</li>
<li>Text Analysis</li>
<li>Predictive Analysis</li>
</ul>
<p>The project employs listings data scrapped from the Airbnb website, made available by Inside AirBnb via this <a href="http://insideairbnb.com/get-the-data.html">link</a>. The listings data from Australia (listings.csv) compiled by the website on 22 January 2021 was used for the purpose of this project.</p>
<p>This post focuses on the discussion of the <strong>Geospatial Data Visualization and Analysis</strong> modules of the web-based application. In summary, a literature review was conducted to research on existing efforts in this aspect; gaps in existing efforts were then identified; enhancements based on well-studied alternatives were proposed; and finally, prototypes of the recommended analytical tools were developed, tested, and discussed in this post.</p>
<h2 id="literature-review">1.2 Literature Review</h2>
<p>The data offered by Inside Airbnb are split into several different data sets - this assignment will be focusing on the listings file, which provides detailed data from individual listings put up on the AirBnb database. Information provided includes hosts details, response data, listing information (e.g. price, number of beds, property type, maximum nights), and review scores.</p>
<p>There are currently a number of analyses that has been conducted on the Airbnb dataset. While most of them are focused on one particular country, given that the datasets made available by Inside Airbnb are rather consistent across different geographical space, it is reasonable to assume that the analytical methodologies adopted by these other studies can be easily replicated and reproduced with data from other countries.</p>
<p>One of most prominent and recent study on Airbnb data is by Steve Deane from Stratos, who wrote a <a href="https://www.stratosjets.com/blog/airbnb-statistics/">blogpost in January 2021</a> on the topic (which also inspired this project). In his post, Deane provides descriptive statistics (e.g. total number of hosts, most popular destination, number of guests) focusing on the global distribution with a slight inclination towards the United States of America. While some of the statistics were provided, Deane’s analysis is heavily weighted towards the economic aspects of Airbnb (e.g. whether Airbnb affects property values and rents - “Airbnb effect”, whether Airbnb is cheaper than hotels, and economic impact of Airbnb in each country). However, Deane does not provide any higher level data analysis beyond the descriptive ones. He did presented one segment explaining the factors that host should consider when purchasing a property to use as an Airbnb - reflecting some form of explanatory analysis (and perhaps even predictive) but the content was scarce with no elaboration on how these factors were derived. The major ‘flaw’, though, remains the fact that Deane’s blogpost is heavy on qualitative write-up with minimal (or no) meaningful visualization of the statistics he has quoted.</p>
<p>Several blogposts on medium.com provided basic guides on data analysis on the Airbnb dataset. <a href="https://medium.com/@jkwonhalla/airbnb-listings-data-analysis-with-r-e2c6001147a6#:~:text=%20Airbnb%20Listings%20Data%20Analysis%20with%20R%20%28Analyses%29,from%20applying%20LDA%20to%20the%20three-class...%20More%20">Kwon et. al. (2018)</a>, <a href="https://medium.com/analytics-vidhya/how-to-analyze-airbnb-performance-data-in-the-right-way-b83f3dad1458">Chen (2019)</a>, and <a href="https://medium.com/@emrebilgehangedik/seattle-airbnb-listings-analysis-d88c839596f8">Gedik (2020)</a> are some recent examples.</p>
<p>Kwon et. al. (2018) used the Inside Airbnb listing data from Austin, Texas with around 12,ooo listings, and utilized the numerical features to apply Linear Discriminant Analysis, Outliers were detected and removed using the Cook’s distance before a Box-Cox transformation was conducted to normalize the data, and the dependent variable (review score) binned to wrangle into categorical data type. Backward Elimination, Ordinal Logistic Regression, and LASSO Regression methods were employed to conduct explanatory analysis - with all three models turning number of bathrooms as significant predictor for customer ratings. Principal Component Analysis was then conducted with no good result after the model fail to meaningfully provide separation of classes (three classes). The Latent Discriminant Analysis was then conducted on each of the three classes resulted from the PCA. The study concluded that number of listings by hosts and having more bathrooms are crucial in securing higher review score. The advantage of this study is the depth, with detailed discussion on the methodology and results. However, the analysis focuses only on predictive/explanatory model, and is one-dimensional, studying only one dependent variable. The study does not offer interactive features to allow other forms of data exploration (e.g. other clustering methods, geographical influence) or changing of dependent variable (e.g. to examine factors affecting price of listing).</p>
<p>Chen (2019) on the other hand provides an analysis that emphasized on the geographical distribution of listings, and provided more data visualizations (playing to the advantage of using Tableau) that allow viewers to make quick noticeable trends. Chen analysed the 2019 New York City listing data with the objective to predict future Airbnb performance in the city. However, while a predictive model was envisioned, there was little predictive analysis going on in her study - a greater emphasis was placed on qualitative inferences made via the visualization without proper data analytics methodologies. Chen was also limited in her methods of data visualization - for example, when presenting the geospatial distribution of areas by price, she had used a proportional dot map, without a convincing argument of its strength as compared to other visualization methods (such as a choropleth). In fact, the proportional size between the different dots are difficult to be differentiated based on her viz. There are also major flaws with other visualization choice (e.g. showing Average Price by Locations with equal-length bar differentiated by colors on a continuous scale), and the usefulness of some of the viz is also questionable (why might we be interested to know who are the Top 10 Busy Host, and indeed, what is the definition of ‘business’ here). All in all, while Chen presented some simple visualization to expose the potential of data viz using the Airbnb data, more is left desired from the analysis.</p>
<p>Comparatively, Gedik (2020) did a fair job in answering the questions set out by his objective. Using the Seattle listing dataset (via Kaggle), he aimed to find out the common amenities, and top features attracting guests and higher prices. In a Question-and-Answer format, Gedik presented visualizations to help answer each of the question he asked in a simple and succinct manner. In his third question, Gedik also presented the result table of a linear regression model he had ran, showing that property_type_Boat has the largest effect on price of listing. Gedik’s post, however, suffers from the limitation of scarce discussion in the technical methodology aspect. Similar to earlier studies, there is also no interactivity offered to allow viewers autonomy in changing parameters.</p>
<p>Amongst all, <a href="https://towardsdatascience.com/airbnb-rental-listings-dataset-mining-f972ed08ddec">Gupta (2019)</a> provided the most well-rounded discussion and presentation using the Airbnb listing data. Gupta aimed to provide an exploratory analysis of Airbnb’s data to understand the rental landscape in New York City. Gupta first employed descriptive time-series statistics to map out the increasing trends in number of listings and reviews in the city, before moving on to present an interactive Shiny App that provides information on individual listing based on sets of filters (e.g. max budget, number of people, minimum rating). While Gupta offered some form of interactivity, the Shiny does not provide any meaningful insights, and is essentially a replica of the user interface offered by Airbnb via the official website.</p>
<p>While non-interactive, Gupta’s subsequent discussion provides a preliminary view of the analytical methodologies that could be employed using the Inside Airbnb listing data. Firstly, he mapped out a geographical spread of the ratings and price by area using a Choropleth map (subsequent discussion in this paper will also conclude that it is indeed one of the better geospatial visualization option for this application). He also provided a quick bar-chart viz of the breakdown in terms of property types, before moving on to discuss the temporal nature and seasonality effect of price in New York City (using both a time series dot plot to analyse monthly patterns and a boxplot for each day of the week. He even employed a calendar heat map of occupancy within the city. After geospatial and temporal analysis, Gupta moved on to conduct text analytics on the reviews dataset to find words most commonly mentioned - an attempt to distil aspects that play important roles in shaping the Airbnb experience. A Shiny app was also developed to allow user to find similar word vectors based on a query word. Lastly, Gupta set out to find out whether there are any correlation between the host response rate, the average ratings, and whether the host is a Superhost. While no predictive model was used, the scatter plot presented provides a quick viz on the explanatory analysis he desired to conduct.</p>
<p>Within the industry, there exists interactive tools that allow analysts or potential hosts to analyze rental data using attributes and past performance. One such example is <a href="https://www.airdna.co/">AIRDNA</a>. Notwithstanding the fact that the platform only offers paid services, the results are also provided in a prescriptive manner with little analytical value-add.</p>
<h2 id="existing-gaps-proposed-enhancement">1.3 Existing Gaps &amp; Proposed Enhancement</h2>
<p>Taking in all the existing literature availble on the topic, the following gaps were identified.</p>
<p><strong>Existing Gaps</strong></p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 22%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header">
<th>S/N</th>
<th>Gaps</th>
<th>Elaboration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Lack of coordinated in-depth analysis</td>
<td>All of the studies discussed earlier focused on single dimensional aspect of the dataset - for example, Kwon (2018) on predicting ratings, Chen (2019) on visualizing the data, and Gedik (2020) on identifying common amenities potentially useful in predicting demand and price. The only attempt at merging the analyses into a centralised platform to be used for thematic analysis is Gupta’s. Notwithstanding the fact that his Shiny apps are hosted on separate io pages, Gupta’s analyses are also disjointed in content. Gupta started off providing descriptive analysis of Airbnb in New York, then transited to a Shiny for property locator, then more exploratory analysis on geospatial and categortical distribution, before transiting to temporal and text analysis - throughout his study, there is no one common theme that links the different methodologies and discussion together. A more concerted and systematic organization of the analysis and the tools used is needed.</td>
</tr>
<tr class="even">
<td>2</td>
<td>No provision of analytical tool to help viewers do the analysis themselves</td>
<td>Across all the studies examined, including Gupta’s Shiny app, there are no provision of analytical tool that can allow users to change certain parameters to tweak the analyses to their own objective/preference. For example, in Kwon’s predictive modelling, there is no way to change the methods or predictor that is included, or perhaps even to change the dependent variable of interest. In Chen’s visualization, there is also no way to change the variable presented, say from her original price-as-size, to examine ratings using size or even colors on the viz. Similarly, Gedik does not offer any tools in this aspect. Gupta, while offering a wide range of analytical methods and even offering Shiny app, also surprisingly fell short in this area - for example, in his text analytics app, while user can change the word query, they are unable to, say, focus on reviews with more than a 4-star ratings to find out common words associated with higher ratings.</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Lack of Interactivity</td>
<td>Another gap that is found across all study and one of the most major flaw considering the wealth of information provided by the datasets. None of the study offered options to, for example, zoom in on a particular sub-region, or to filter out whether a hosts is a superhost, or to subset data based on a range of prices. These are useful features that could tremendously enhance the usefulness of the analysis</td>
</tr>
</tbody>
</table>
<p><strong>Proposed Enhancements</strong></p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 22%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header">
<th>S/N</th>
<th>Gaps</th>
<th>Proposed Enhancement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Lack of coordinated in-depth analysis</td>
<td>The analyses and platform offered should allow user to <strong>conduct holistic analyses within a coordinated theme using a variety of analytical tools</strong>. For example, in analyzing the prices for Airbnb listing, exploratory analyses can be conducted to filter out differences or relationships between price and other variables; geospatial distribution can be mapped out to identify geographical clusters or outliers of price; predictive analysis can be adopted to distill factors affecting prices; and text analysis can be employed on reviews or descriptions to find words commonly associated with higher prices, This way, the application provides a robust selection of analytical tools that user can utilize to derive coherent views about a single question asked, in contrast to the haphazard loading of different analytical methodologies that results in a messy paper with no clear objectives presented by the studies discussed earlier.</td>
</tr>
<tr class="even">
<td>2</td>
<td>No provision of analytical tool to help viewers do the analysis themselves</td>
<td>Platform and tool developed should provide user with easy-to-use toggles and filters to tweak the analyses to their desire and preference. For example, the dependent variable of price as discussed in s/n 1 above can be easily changed to ratings or response rate to understand other dimensions of the listing data. This will be more useful than to present a static version of analysis, while also allowing analysts without coding to easily conduct appropriate analysis</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Lack of Interactivity</td>
<td>Lastly, interactivity should be introduced to enhance information transmission. Beyond the toggles/filters that allow user to vary relevant parameters, visualization should also make use of interactivity (e.g. tool tips on hover) to provide richer information to user/viewer, that can better enhance user experience of the application.</td>
</tr>
</tbody>
</table>
<p>After examining some of the existing gaps in the form of data analysis, visualization and dashboarding in general for similar dataset used in the field, the next segment focuses on the storyboarding for the geospatial analysis aspect that is the focus of this sub-module/assignment. Further discussions on some of the literature on appropriate visualization and analytical tool for the geospatial analysis can be found in Section 2 below.</p>
<h1 id="storyboard">2: Storyboard</h1>
<h2 id="sub-module-1-geospatial-visualization">2.1 Sub-module 1: Geospatial Visualization</h2>
<p>There are several commonly-used geospatial visualization techniques available, these include Dot Density Map, Proportional Symbols, Cartograms, and Choropleth maps.</p>
<p><strong>Dot Density Map</strong></p>
<p>The <a href="http://www.axismaps.com.s3-website-us-east-1.amazonaws.com/guide/univariate/dot-density/">dot density maps</a> is useful in showing “<em>differences in geographic distributions across a landscape</em>”.</p>
<ol type="1">
<li>Raw data and simple counts or rates/ratio can all be mapped</li>
<li>Data need not be tied to enumeration units (that is, it does not require the variable of interest to be conceptually measurable anywhere in space)</li>
<li>It works fine with black and white when color is not an option (and if color is available, it can be used to represent other variable of interest)</li>
</ol>
<p>In parallel, difficulty in retrieving exact number from the viz is also one major limitation of dot density maps - viewers generally will not be patient to manually count the number of dots in a region to derive the total number of events in the particular space.If the purpose of the visualization is for data extraction and to allow accurate extration of aggregated numbers within an area, dot density may not be the optimal choice.</p>
<p><strong>Proportional Symbols</strong></p>
<p><a href="http://www.axismaps.com.s3-website-us-east-1.amazonaws.com/guide/univariate/proportional-symbols/">Proportional symbol maps</a> scale the size of simple symbols (usually a circle or square) proportionally to the data value found at that location. Proportional symbols can be used for numerical data or ordinal categorical data. When aggregated, proportional symbol overcomes the limitation of dot density by allowing comparison of variable using relative size - i.e. larger the symbol, more of the variable of interest.</p>
<p>In fact, proportional symbols can be complemented with dot density (and Choropleth, discussed below) to provide an additional dimension to the visualization (i.e. dot represents one count e.g. one instance of listing; size representing one variable of interest e.g. price; and in fact colors or other element such as secondary shape (outer circle) can be deployed to add even more dimension to the viz - though running the risk of over-complicating and/or over-crowding the map with excessive info).</p>
<p>One common problem with proportional symbol map, as mentioned above, is congestion, especially if there are large variations in size and/or data points are close together. Another limitation is that readers generally do no estimate the areas of symbols very well.</p>
<p><strong>Cartogram</strong></p>
<p>Amongst the various viz methods, the <a href="http://www.axismaps.com.s3-website-us-east-1.amazonaws.com/guide/univariate/cartograms/">Cartograms</a> is arguably the least popular, as “<a href="http://www.axismaps.com.s3-website-us-east-1.amazonaws.com/guide/univariate/cartograms/">their use is often more for their theatrical value (i.e. to grab the attention of an audience) and less for their ability to help folks understand subtle details of geographic datasets</a>”. A <a href="https://www.r-graph-gallery.com/cartogram.html">cartogram</a> is a map in which the geometry of regions is distorted in order to convey the information of an alternate variable. The region area will be inflated or deflated according to its numeric value. There are generally two types of Cartograms - contiguous (where sizes are distorted but units remain attached to neighbors) and non-contiguous.</p>
<p>One of the major limitation of Cartogram, however, is that readers who are not familiar with what the areas should look like will not be surprised by the intentional distortion. While this can be somewhat mitigated by having a base map underneath the area cartogram, there is a second limitation: viewers are generally unable to judge sizes well (as mentioned above, same issue as Proportional Symbol), making cartogram hard to interpret accurately.</p>
<p><strong>Choropleth</strong></p>
<p>On the opposite spectrum of popularity, <a href="http://www.axismaps.com.s3-website-us-east-1.amazonaws.com/guide/univariate/choropleth/">Choropleth</a> is one of the most popular geospatial visualization. Choropleth are used when data:</p>
<ol type="1">
<li>are attached to enumeration units (e.g. state, city)</li>
<li>are standardized to show rates or ratios (not to be used with raw data or counts)</li>
<li>have a continuous statistical surface</li>
</ol>
<p>In the context of the Airbnb listing data, both criteria 1 and 3 are fulfilled. Criteria 2 is also satisfied when we look at variables such as host acceptance rate, host response rate, or even ratings (which has an upper limit of 100, similar to standardized percentage points).</p>
<p>While criteria 2 appears to be violated when we explore raw data such as listing counts or price, a classed Choropleth map can be considered to split continuous variable of interest. Classification methods (e.g. natural breaks, equal interval, quantile) and number of classes, in this case, can be adjusted to suit contextual needs. In fact, classed Choropleth has the additional advantage of allowing viewers to easily “get numbers off the map”. While classification introduces subjectivity and a form of aggregation, these disadvantages are worthwhile trade-offs for the ease of making accurate and simple comparison across neighboring area, while not losing objective truth (ultimately, the data points are still within a range within the class - in fact, some times this provides an even more telling story than an unclassed version would).</p>
<p>In fact, with the aggregation within area borders and easy comparison across areas, choropleth provides a good foundation to what we are going to discuss in the next segment, Geospatial Analysis.</p>
<p>All in all, in the context of the Airbnb listing data, we will see in our iterations of different visualizations that dot density and proportional symbols are not suitable candidates for practical reasons (hint: they are concentrated in certain popular areas with many overlapping points). Cartogram, while plausible, is disadvantaged by the limitations we have discussed above, and is less intuitive when mapped against geospatial cluster analysis (discussed below).</p>
<p>By the ease of interpretation and the applicability for geospatial analysis, the Choropleth is, on theory, the visualization of choice. We will further explore its practicality below when we conduct the actual viz iterations using the listing data.</p>
<h2 id="sub-module-2-geospatial-analysis">2.2 Sub-module 2: Geospatial Analysis</h2>
<p>Geospatial analysis consists of a wide spectrum of topics including spatial autocorrelation, spatio-temporary data analysis, spatial regression, surface analysis, flow analysis, network and locational analysis, and even other geocomputational methods.</p>
<p>In the context of the Airbnb listing data, given that listings are static data, we will eliminate methods focusing on flow analyses. Temporal analysis, while plausible (e.g. how listings or prices change over time) and provided within the datasets, are not the main scope of this study, which aims to provide analytical tools to understand geospatial distribution of various variable of interest. In this aspect, exploratory spatial data analysis (ESDA) that includes spatial autocorrelation, looking at indicators for spatial association would be more closely applicable.</p>
<p>One common ESDA methods (and indeed, objective) is to conduct geographical clustering, to identify areas with exceptionally high or low value of variables of interest, as well as outliers where there are high regions surrounded by low areas or low regions surrounded by high areas.In this context, <a href="https://en.wikipedia.org/wiki/Indicators_of_spatial_association">indicators of spatial association</a>, or "<em>statistics that evaluate the existence of clusters in the spatial arrange of a given variable</em> will be used as a measure to test for existence of clusters.</p>
<p>Global spatial analysis or global spatial autocorrelation analysis assumes homogeneity across the area studied, and yields statistic to summarize the whole study area. On the other hand, local spatial analysis, even in the absence of global autocorrelation, allows identification of clusters at local level (i.e. in sub-‘regions’) using local spatial autocorrelation.</p>
<p>Conventional analysis in this aspect - the Hot Spot Analysis - typically adopts <a href="https://onlinelibrary.wiley.com/doi/pdf/10.1111/j.1538-4632.1995.tb00912.x">Getis-Ord’s G and G* statistics</a> which provides hot/cold spot analysis within a geographical area based testing of statistical significance that rejects (or fail to reject) the null hypothesis that there are no hot/cold spots vis-a-vis its neighbouring features.</p>
<p><a href="https://onlinelibrary.wiley.com/doi/epdf/10.1111/j.1538-4632.1995.tb00338.x">Anselin (1995)</a> first provided the theoretical discussion on another similar approach: the <strong>Local Indicators of Spatial Association (LISA)</strong> statistic. In her definition, she explained that a LISA is "<em>any statistic that satisfies the following two requirements:</em></p>
<p><em>a. the LISA for each observation gives an indication of the event of significant spatial clustering of similar values around that observation;</em><br />
<em>b. the sum of LISAs for all observations is proportional to a global indicator of spatial association</em>"</p>
<p>Anselin explained in her extract that LISA would serve two purposes:</p>
<ol type="1">
<li>On the one hand they may be interpreted as indicators of local pockets of non-stationarity (i.e. hot spots); and<br />
</li>
<li>On the other, they may be used to to assess influence of individual locations on the magnitide of the global statistics and hence to identify ‘outliers’</li>
</ol>
<p>For 1, LISA can be used as the basis for a test of the null hypothesis of no local spatial association (similar to the G- and G*-statistics of Getis and Ord (1992))</p>
<p>For 2, If the underlying variable is stable throughout the data, then local indications will show little variation around the global statistic (which is representative of the average pattern of local association) - local values that are very different from the global value, hence, would indicate locations that contribute more than their expected share to the global statistics, indicating likely outliers. This interpretation of LISA overcomes some of the earlier challenges of statistics (e.g. Getis-Ord G &amp; G*) that are applicable only when global statistics do not provide evidence of spatial association - however, a strong and significant indication of global spatial association may still hide totally random subset (including possible distinct local patterns).</p>
<p>Within the wider class of LISA statistics, Anselin discussed and adopted the use of the local Moran I indices for the local spatial analysis.</p>
<p>While <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/spatial-statistics/h-how-hot-spot-analysis-getis-ord-gi-spatial-stati.htm">Hot Spot Analysis using the Getis-Ord G*</a> is effective for finding hot and cold sports, only the <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/spatial-statistics/h-how-cluster-and-outlier-analysis-anselin-local-m.htm">Cluster and Outlier Analysis using Anselin’s Local Moran I</a> will identify statistically significant spatial outliers.</p>
<p>This paper, in Section 4.2, provides a prototype of these analysis, along with some testing of different parameters that can be interactively altered (e.g. methods for determining neighbour) in a web-based application.</p>
<p>We next proceed to get our hands dirty and conduct some data wrangling and preparation for the prototypes of the sub-modules.</p>
<h1 id="data-extracting-wrangling-and-preparation">3: Data Extracting, Wrangling, and Preparation</h1>
<p>This Section provides a step-by-step explanation on the data preparation process.</p>
<strong>Step 1: Load required packages </strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>packages</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'tidyverse'</span>,<span class='st'>'stringr'</span>, <span class='st'>'dplyr'</span>, <span class='st'>'sf'</span>, <span class='st'>'ggplot2'</span>, <span class='st'>'leaflet'</span>, <span class='st'>'tmap'</span>, <span class='st'>'cartogram'</span>, <span class='st'>'spdep'</span>, <span class='st'>'RColorBrewer'</span>, <span class='st'>'colorspace'</span><span class='op'>)</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>p</span> <span class='kw'>in</span> <span class='va'>packages</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>p</span>,character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>p</span>,character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<strong>Step 2: Extract data from CSV file</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb_raw</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"data/listings.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<strong>Step 3: Select relevant columns for the project</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb</span> <span class='op'>&lt;-</span> <span class='fu'>select</span><span class='op'>(</span><span class='va'>airbnb_raw</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>6</span>, <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>10</span>, <span class='fl'>13</span>, <span class='fl'>14</span>, <span class='fl'>15</span>, <span class='fl'>16</span>, <span class='fl'>17</span>, <span class='fl'>18</span>, <span class='fl'>19</span>, <span class='fl'>23</span>, <span class='fl'>24</span>, <span class='fl'>25</span>, <span class='fl'>26</span>, <span class='fl'>27</span>, <span class='fl'>28</span>, <span class='fl'>29</span>, <span class='fl'>30</span>, <span class='fl'>31</span>, <span class='fl'>32</span>, <span class='fl'>33</span>, <span class='fl'>35</span>, <span class='fl'>36</span>, <span class='fl'>37</span>, <span class='fl'>38</span>, <span class='fl'>39</span>, <span class='fl'>40</span>, <span class='fl'>41</span>, <span class='fl'>42</span>, <span class='fl'>43</span>, <span class='fl'>44</span>, <span class='fl'>45</span>, <span class='fl'>46</span>, <span class='fl'>47</span>, <span class='fl'>49</span>, <span class='fl'>50</span>, <span class='fl'>51</span>, <span class='fl'>52</span>, <span class='fl'>53</span>, <span class='fl'>55</span>, <span class='fl'>56</span>, <span class='fl'>57</span>, <span class='fl'>58</span>, <span class='fl'>59</span>, <span class='fl'>60</span>, <span class='fl'>61</span>, <span class='fl'>62</span>, <span class='fl'>63</span>, <span class='fl'>64</span>, <span class='fl'>65</span>, <span class='fl'>66</span>, <span class='fl'>68</span>, <span class='fl'>69</span>, <span class='fl'>70</span>, <span class='fl'>71</span>, <span class='fl'>72</span>, <span class='fl'>73</span>, <span class='fl'>74</span>, <span class='fl'>75</span>, <span class='fl'>76</span>, <span class='fl'>77</span>, <span class='fl'>80</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<strong>Step 4a: Convert Date Variables from chr to date Type</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_since</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_since</span>, <span class='st'>'%d/%m/%y'</span><span class='op'>)</span>
<span class='va'>airbnb</span><span class='op'>$</span><span class='va'>first_review</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>first_review</span>, <span class='st'>'%d/%m/%y'</span><span class='op'>)</span>
<span class='va'>airbnb</span><span class='op'>$</span><span class='va'>last_review</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>last_review</span>, <span class='st'>'%d/%m/%y'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<strong>Step 4b: Convert Rate Variables from chr to dbl Type</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_response_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'>str_remove_all</span><span class='op'>(</span><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_response_rate</span>, <span class='st'>"%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>/</span><span class='fl'>100</span><span class='op'>)</span>
<span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_acceptance_rate</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'>str_remove_all</span><span class='op'>(</span><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_acceptance_rate</span>, <span class='st'>"%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>/</span><span class='fl'>100</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<strong>Step 4c: Converting Price Variables from chr to dbl Type</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>price</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"\\$"</span>,<span class='st'>""</span>, <span class='va'>airbnb</span><span class='op'>$</span><span class='va'>price</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<strong>Step 4d: replacing String “N/A”s with NA</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_response_time</span> <span class='op'>&lt;-</span> <span class='fu'>na_if</span><span class='op'>(</span><span class='va'>airbnb</span><span class='op'>$</span><span class='va'>host_response_time</span>, <span class='st'>"N/A"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<strong>Step 4e: Save dataset as “Airbnb.csv”</strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='co'># Note: this code is not ran</span>
<span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>airbnb</span>, <span class='st'>"data/Airbnb.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>This preliminary cleaned <em>Airbnb.csv</em> file is then distributed to all team members for further wrangling to suit the needs of respective sub-modules. For example, text analytics will require tokenization of character strings, geospatial requires joining with spatial files to form geospatial dataframes, and predictive analytics requires further coorelation analysis before deciding on predictors to retain.</p>
<p>For the purpose of this assignment, the data wrangling process from Step 5 below onwards will focus on creating spatial simple features and other processing methods for the geospatial visualization and analysis sub-modules.</p>
<p><strong>Step 5: Select relevant variables and creating spatial feature (sf) dataframe</strong></p>
<p>Firstly, the <em>st_as_sf</em> code is ran using the <em>longitude</em> and <em>latitude</em> columns that were scraped and provided in the original data file as the coordinates to match the points. <em>crs</em> is set to 4326, corresponding to the Australia map boundary. This sf file containing all the airbnb listings data is named <strong><em>airbnb_sf</em></strong>.</p>
<p>Next, long string variables (e.g. description, house rules) that are more relevant for text analytics are removed to reduce size of file to be converted into sf, giving rise to the <strong><em>aust_sf</em></strong> dataframe.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>airbnb_sf</span> <span class='op'>&lt;-</span> <span class='fu'>st_as_sf</span><span class='op'>(</span><span class='va'>airbnb</span>,coords <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"longitude"</span>,<span class='st'>"latitude"</span><span class='op'>)</span>, crs<span class='op'>=</span><span class='fl'>4326</span><span class='op'>)</span>
<span class='va'>aust_sf</span> <span class='op'>&lt;-</span> <span class='fu'>select</span><span class='op'>(</span><span class='va'>airbnb_sf</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>,<span class='fl'>5</span><span class='op'>:</span><span class='fl'>6</span>,<span class='fl'>9</span><span class='op'>:</span><span class='fl'>14</span>,<span class='fl'>16</span><span class='op'>:</span><span class='fl'>24</span>,<span class='fl'>26</span><span class='op'>:</span><span class='fl'>28</span>,<span class='fl'>35</span>,<span class='fl'>40</span>,<span class='fl'>43</span><span class='op'>:</span><span class='fl'>45</span>,<span class='fl'>53</span>,<span class='fl'>58</span><span class='op'>:</span><span class='fl'>63</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><strong>Step 6: Download &amp; Import Local Government Area (LGA) boundaries Polygon</strong></p>
<p>The Australian Statistical Geography Standard (ASGS) <a href="https://www.abs.gov.au/ausstats/abs@.nsf/Lookup/by%20Subject/1270.0.55.003~June%202020~Main%20Features~Local%20Government%20Areas%20(LGAs)~3">Local Government Areas (LGAs)</a> are an ABS approximation of officially gazetted Local Government Areas as defined by each State and Territory Local Government Department. LGAs cover incorporated areas of Australia only, and are legally designated parts of a State or Territory over which incorporated local governing bodies have responsibility.</p>
<p>Inside AirBnb’s dataset includes <em>region_name</em> and <em>region_id</em> fields which corresponds to the LGAs. Geospatial polygons files of the LGAs are regularly updated and provided by the Australian Bureau of Statistics. The geospatial files can be downloaded via ths <a href="https://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/1270.0.55.003June%202020?OpenDocument">link</a> and selecting the <em>“Local Government Areas ASGS Ed 2020 Digital Boundaries in ESRI Shapefile format”</em> file.</p>
<p>After moving the extracted file into the data folder of this Markdown directory, we run the following codes to extract the map layer as a <strong><em>aust_lga</em></strong> dataframe:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>aust_lga</span> <span class='op'>&lt;-</span> <span class='fu'>st_read</span><span class='op'>(</span>dsn <span class='op'>=</span> <span class='st'>"data/geospatial"</span>, 
                layer <span class='op'>=</span> <span class='st'>"LGA_2020_AUST"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><strong>Step 7: Aggregate vairables to the LGA level</strong></p>
<p>On the trimmed <em>airbnb</em> file, we select relevant fields that makes sense to be aggregated into the LGA level. These includes:</p>
<ul>
<li><strong><em>listing_count</em></strong>: summing up the number of listings within the LGA</li>
<li><strong><em>median_price</em></strong>: median price of all listings within the LGA</li>
<li><strong><em>average_review</em></strong>: average number of reviews for all listings within the LGA</li>
<li><strong><em>average_rating</em></strong>: average rating across all listings within the LGA</li>
<li><strong><em>average_response_rate</em></strong>: average response rate across all listings within the LGA</li>
<li><strong><em>average_acceptance_rate</em></strong>: average acceptance rate across all listings within the LGA</li>
</ul>
<p>Other variables such number of beds/bedrooms, maximum/minimum nights, and other date and Boolean/logical fields are not meaningful when aggregated together on the LGA level. This aggregated dataframe is named <strong><em>aust_grp</em></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>aust_grp</span> <span class='op'>&lt;-</span> <span class='va'>airbnb</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>region_id</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>listing_count<span class='op'>=</span><span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span>,
            median_price<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/stats/median.html'>median</a></span><span class='op'>(</span><span class='va'>price</span>, na.rm<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span>,
            average_review<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>number_of_reviews</span>, na.rm<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span>,
            average_rating<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>review_scores_rating</span>, na.rm<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span>,
            average_response_rate<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>host_response_rate</span>, na.rm<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span>,
            average_acceptance_rate<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>host_acceptance_rate</span>, na.rm<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><strong>Step 8: Join Aggregated variables with LGA Shapefile</strong></p>
<p>Each LGA has its corresponding standardized code, which is captured by the region_id field in the Inside Airbnb dataset. First we change the region_id datatype to character, then we join the two files (LGA-aggregated data and the LGA shapefile) using the left_join function to create the <strong><em>aust_grp_sf</em></strong> simple feature (sf) dataframe.</p>
<p>We also further remove any empty rows with no available data for the LGA - creating the <strong><em>aust_sf_clean</em></strong> dataframe.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>aust_grp</span><span class='op'>$</span><span class='va'>region_id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>aust_grp</span><span class='op'>$</span><span class='va'>region_id</span><span class='op'>)</span>
<span class='va'>aust_grp_sf</span> <span class='op'>&lt;-</span><span class='fu'>left_join</span><span class='op'>(</span><span class='va'>aust_lga</span>, <span class='va'>aust_grp</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"LGA_CODE20"</span><span class='op'>=</span><span class='st'>"region_id"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>aust_sf_clean</span> <span class='op'>&lt;-</span> <span class='va'>aust_grp_sf</span><span class='op'>[</span><span class='op'>!</span><span class='fu'>st_is_empty</span><span class='op'>(</span><span class='va'>aust_grp_sf</span><span class='op'>)</span>,<span class='op'>]</span>
</code></pre>
</div>
</div>
<p><strong>Step 9: State Filter - Victoria</strong></p>
<p>As the resultant files are big, we filter out the data set to focus on just the Victoria state. This provides an illustration on how the web-based application could look like when an additional State filter is applied.</p>
<p><em>Note: field region_parent_name corresponds to the 9 states in Australia; each of the state also has a fixed numerical code from 1-9 for each of the 9 states, in this case, the code for Victoria is “2”</em></p>
<p><strong><em>vic_sf</em></strong> contains all the data from the aust_sf sf dataframe filtered down to the Victoria state<br />
<strong><em>vic_grp_sf</em></strong> contains LGA-aggregated data for LGAs within the Victoria state<br />
<strong><em>vic_sf_clean</em></strong> contains non-empty LGA-aggregated data for LGAs within the Victoria state</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>vic_sf</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>aust_sf</span>, <span class='op'>(</span><span class='va'>aust_sf</span><span class='op'>$</span><span class='va'>region_parent_name</span><span class='op'>==</span><span class='st'>"Victoria"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>vic_grp_sf</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>aust_grp_sf</span>, <span class='op'>(</span><span class='va'>aust_grp_sf</span><span class='op'>$</span><span class='va'>STE_CODE16</span><span class='op'>==</span><span class='st'>"2"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>vic_sf_clean</span> <span class='op'>&lt;-</span> <span class='va'>vic_grp_sf</span><span class='op'>[</span><span class='op'>!</span><span class='fu'>st_is_empty</span><span class='op'>(</span><span class='va'>vic_grp_sf</span><span class='op'>)</span>,<span class='op'>]</span>
</code></pre>
</div>
</div>
<p><strong>Step 10: Final Data Preparation based on Variable of Interest</strong></p>
<p>And finally, before we proceed with the testing, we conduct a second-level cleaning that removes NA values specific to the variable of interest. In this paper, we will be focusing on listing price as the variable of interest, and hence, we conduct this second-level cleaning based on rows where prices are “NA”.</p>
<p>Here we create <em>aust_sf_clean2</em> where second-level cleaning is conducted to remove rows where median_price are NA.<br />
We then conduct the same filtering to extract data for the Victoria state to create the <em>vic_sf_clean2</em> dataframe<br />
We keep the file size even smaller, by extracting just the LGA name, median price, and geometry data in <em>vic_median_price</em></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='co'># Second-level further cleaning to remove rows where median price (variable of interes) is NA </span>
<span class='va'>aust_sf_clean2</span> <span class='op'>&lt;-</span> <span class='va'>aust_sf_clean</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>aust_sf_clean</span><span class='op'>$</span><span class='va'>median_price</span><span class='op'>)</span>,<span class='op'>]</span>
<span class='va'>vic_sf_clean2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>aust_sf_clean2</span>, <span class='op'>(</span><span class='va'>aust_sf_clean2</span><span class='op'>$</span><span class='va'>STE_CODE16</span><span class='op'>==</span><span class='st'>"2"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>vic_median_price</span> <span class='op'>&lt;-</span>  <span class='fu'>select</span><span class='op'>(</span><span class='va'>vic_sf_clean2</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>,<span class='fl'>7</span>,<span class='fl'>12</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h1 id="testing-and-prototyping">4: Testing and Prototyping</h1>
<h2 id="sub-module-1---geospatial-visualization">4.1: Sub-module 1 - Geospatial Visualization</h2>
<h3 id="dot-density-maps">4.1.1: Dot Density Maps</h3>
<p>Dot density maps, as discussed, is one of the main go-to geospatial visualization, where each occurrence of the variable of interest can be presented by a dot on the map (or in some cases, each dot can also represent a thousand, a million, or any arbitrary value). In this case, while our variable of interest is price, dot density map, on its own, is not suitable for plotting a continuous numerical variable. What we can do here, is to plot out the instance where there is a price listed - or, more simply, location of each Airbnb listing. We then add on other information, including price, as a “tooltip” to appear when we hover over.</p>
<p><strong><em>tmap</em></strong>, being one of the most commonly used packages, offers a simple programmatic approach to plotting various geospatial visualization using coding structure and language consistent with the <a href="https://www.amazon.com/Grammar-Graphics-Statistics-Computing/dp/0387245448">grammar of graphics</a>.</p>
<p>To plot a simple dot density mapping each listing, we run the code chunk below. The code chunk below can be broken down as such:</p>
<ol type="1">
<li>First, we define the tmap to be in “view” mode - which allows interactivity, instead of a static viz in the “plot” mode. This allows us to click on each dot to extract more information via the pop-ups.<br />
</li>
<li>Secondly, we define the base shape of the map to take on the <em>vic_sf</em> simple feature (‘sf’) object.</li>
<li>Thirdly, we define the visualization approach for the data point - in this case, for each data point in the <em>vic_sf</em> object, we instruct R to put a dot on the corresponding geospatial coordinates corresponded on the map. For each dot, we dictate the color to be <em>Rausch</em> (hex code: #FF5A5F) which is the official color of <a href="https://usbrandcolors.com/airbnb-colors/">Airbnb</a>, size to be 0.1, transparency 0.3, and have some useful data in the pop-up when we click on each dot.</li>
<li>And finally, we add in a command to ask R to use the OpenStreetMap as the basemap for this viz</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_dots</span><span class='op'>(</span>col<span class='op'>=</span><span class='st'>'#FF5A5F'</span>, size<span class='op'>=</span><span class='fl'>0.1</span>, alpha<span class='op'>=</span><span class='fl'>0.3</span>,
          popup.vars<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Name"</span><span class='op'>=</span><span class='st'>"name"</span>, <span class='st'>"LGA"</span><span class='op'>=</span><span class='st'>"region_name"</span>,<span class='st'>"Price"</span><span class='op'>=</span><span class='st'>"price"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
    <span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><img src="media/pic1.PNG"></p>
<p><em>&lt;Note: screen grab of the interactive viz is used for the blog post to reduce run time - actual interactive viz can be accessed via Github link provided at the start of assignment&gt;</em></p>
<p>From the dot density map above, we see a larger cluster of listing around the coastal area, in particular around the Melbourne area (note that while State and Local Government Area are available as pop-ups when clicked on a particular point, Melbourne, in this instance, is not an LGA and will not appear). Another observation, if zoomed in enough, is that other than major city centers, listings also tend to be more prevalent along major highways (appear as red lines on the OpenStreetMap) and fringes of national parks (green patches on the OpenStreetMap)</p>
<p>Using the dot density map, we can easily and quickly visualize where the listings congregate in an area - in this case, the state of Victoria.</p>
<p>However, one major flaw (that has also been discussed earlier) become obvious: the viz appears over crowded and very cluttered - even with a 30% transparency, the overlapping of data makes actual dot representation inaccurate as some dots are covered. This makes counting of dots near impossible - that is, if anyone even bothered to try.</p>
<h3 id="proportional-symbol-map">4.1.2: Proportional Symbol Map</h3>
<p>Proportion can be added to onto the dot density plot as we see above, to allow price - a continuous variable and our variable of interest - to enter as the size of the bubbles. In this case, we can continue to use the <a href="https://cran.r-project.org/web/packages/tmap/vignettes/tmap-getstarted.html#interactive-maps">tmap package</a>, but instead of a <em>tm_dot</em> layer for dot density, we use <em>tm_bubbles</em> to include size in each bubble.</p>
<p>From there, we just have to change the <strong><em>size</em></strong> parameter to the “price” variable in order to have the proportion of the dots to represent price of each listing.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>tm_bubbles</span><span class='op'>(</span>col<span class='op'>=</span><span class='st'>'#FF5A5F'</span>, size<span class='op'>=</span><span class='st'>"price"</span>, alpha<span class='op'>=</span><span class='fl'>0.3</span>,
          popup.vars<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"State"</span><span class='op'>=</span><span class='st'>"region_parent_name"</span>,<span class='st'>"LGA"</span><span class='op'>=</span><span class='st'>"region_name"</span>,<span class='st'>"Price"</span><span class='op'>=</span><span class='st'>"price"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
    <span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><img src="media/pic2.PNG"></p>
<p><em>&lt;Note: screen grab of the interactive viz is used for the blog post to reduce run time - actual interactive viz can be accessed via Github link provided at the start of assignment&gt;</em></p>
<p>We observe that the issue of over-crowding is even more pronounced in this viz - adding on price as the proportion for the dot symbols is in no way meaningful since the dots are too closely aggregated together. One possible solution is to separate dots manually - but given the large number of data points, it would not be practically feasible.</p>
<p>Another plausible get-around is to use the LGA-aggregated sf dataframe to plot out the median price for each LGA.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"view"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>tm_bubbles</span><span class='op'>(</span>col<span class='op'>=</span><span class='st'>'#FF5A5F'</span>, size<span class='op'>=</span><span class='st'>"median_price"</span>, alpha<span class='op'>=</span><span class='fl'>0.3</span>,
          popup.vars<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"State"</span><span class='op'>=</span><span class='st'>"STE_NAME16"</span>,<span class='st'>"LGA"</span><span class='op'>=</span><span class='st'>"LGA_NAME20"</span>,<span class='st'>"Price"</span><span class='op'>=</span><span class='st'>"median_price"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_basemap</span><span class='op'>(</span><span class='st'>"OpenStreetMap"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><img src="media/pic3.PNG"></p>
<p><em>&lt;Note: screen grab of the interactive viz is used for the blog post to reduce run time - actual interactive viz can be accessed via Github link provided at the start of assignment&gt;</em></p>
<p>While cleaner and more tidy. this version sacrifices the intuitive observation on areas with large number of listings that we get from the dot density with proportional symbol version. The key limitation of proportional symbol maps is also made obvious in this iteration - it is difficult to make a fair judgement on the relative size of the dots visually.</p>
<p>Given the visual practicality and in consideration of the data we have on hand in this use case, dot density, dot density with proprtional symbol, and proportional symbol maps are all suboptimal in creating accurate and effective visual analysis.</p>
<p>We next move on to explore Cartograms.</p>
<h3 id="cartogram">4.1.3: Cartogram</h3>
<p>Unlike the earlier two viz types that has been explored, Cartograms require a separate package - <strong><em>“cartogram”</em></strong> - to help create the visualization. The <a href="https://cran.r-project.org/web/packages/cartogram/cartogram.pdf">cartogram package</a> also offers both the contiguous and non-contiguous viz, and requires the base mapping from <em>tmap</em> to map out the cartogram created using the package.</p>
<p>We first explore the <strong>contiguous cartogram</strong>. Before we proceed to create the cartogram, we first need to transform the second-level cleaned LGA-aggregated sf dataframe onto a map layer using an EPSG that projects the data coordinates. Only with this projected map layer, <em>vic_price_cart</em>, can we then proceed to create the cartogram. Creation of the cartogram is a simple one-liner - see <em>vic_cart</em> object below using the <em>cartogram_cont</em> command from the cartogram package (we set a max iteration of 5 for this trial run but it can easily be adjusted if need be).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='co'># transform sf into sf with projections </span>
<span class='va'>vic_price_cart</span> <span class='op'>&lt;-</span> <span class='fu'>st_transform</span><span class='op'>(</span><span class='va'>vic_median_price</span>,<span class='fu'>CRS</span><span class='op'>(</span><span class='st'>"+init=epsg:3395"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Creating contiguous cartogram</span>
<span class='va'>vic_cart</span> <span class='op'>&lt;-</span> <span class='fu'>cartogram_cont</span><span class='op'>(</span><span class='va'>vic_price_cart</span>, <span class='st'>"median_price"</span>, itermax <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Thereafter, we plot the cartogram using the tmap package codes. <em>(Note, we disable to ‘view’ mode and use ‘plot’ for the rest of the iterations in this section to save space).</em> In the tmap plot, we use the distorted contiguous cartogram map layer as the base shape, add on polygons which takes the median price variable as the color for the polygons, and adopt the “pretty’” style for the classification methods (more on this in later segment), and use the “RdPu” palette for the colors where darker shades of purple corresponds to a higher median price for the LGA. Lastly, we add on a tm_layout command to format the displayed viz, adding a title (and arranging its position), removing a frame for the map, and fixing the legend to the top right.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>'plot'</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_cart</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>, style <span class='op'>=</span> <span class='st'>"pretty"</span>, palette<span class='op'>=</span><span class='st'>'RdPu'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Contiguous Cartogram for Median Price of Listings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"right"</span>, <span class='st'>"top"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-19-1.png" width="624" /></p>
</div>
<p>The distorted contiguous catogram above ’<em>inflates</em>’LGAs where median prices are proportionately larger than their geographic size, and <em>deflates</em> LGA for the opposite. In the above map, it is observed that areas around the bay area near Melbourne are having inflated areas (this is despite the fact that many of their median prices are not exceptionally high relative to other LGAs with deeper shades of purple).</p>
<p>However, as noted earlier in Section 2, there is no easy way in contiguous cartogram to know which of the LGAs has a larger distortion relative to another LGA, especially if viewers are not entirely familiar with the original shape and size of the geographical area. Without prior knowledge of how the LGAs are spread out in the Victoria state, it is difficult to draw immediate insights from the cartogram above, and even if viewers are familiar, comparison of proportionate distortion is challenging.</p>
<p>We next try out a non-contiguous cartogram prototype, where we have a base map, and the LGA outline overlay is deflated proportional to the median price of the area. Similarly, we start first by creating a non-contiguous cartogram polygons using the cartogram package, this time using the <em>cartogram_ncont</em> command.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='co'># Non-contiguous cartogram</span>
<span class='va'>vic_ncont</span> <span class='op'>&lt;-</span> <span class='fu'>cartogram_ncont</span><span class='op'>(</span><span class='va'>vic_price_cart</span>, <span class='st'>"median_price"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Similar to the contiguous version, we use the tmap package to run the map layers, except this time round, we set the base map of Victoria as the outline with borders, then include the non-contiguous polygons we have created above as the shape, then let the median price take color within the non-contiguous polygons. The rest of the set up remains the same.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>'plot'</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_price_cart</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_borders</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_ncont</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>, style <span class='op'>=</span> <span class='st'>"pretty"</span>, palette<span class='op'>=</span><span class='st'>'RdPu'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Non-Contiguous Cartogram for Median Price of Listings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"right"</span>, <span class='st'>"top"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-21-1.png" width="624" /></p>
</div>
<p>Observations are similar to the contiguous version, but this time we do not have to depend on inherent knowledge of the original boundaries, shapes, and sizes of the LGAs within Victoria. However, the issue of comparability and data extraction remains. While knowing the median price proportional to the geographical size of the LGA may be interesting, it is (as discussed in Section 2), perhaps a gimmick at best and worse, a distraction from other more useful information (imagine viewers start spending unnecessary amount of time trying to compare the proportion of the cartogram polygons).</p>
<p>While fun, the cartogram may not be the best package to use and the two versions of visualization above may not be the best option for clear display of information.</p>
<p>We next shift our attention to the wildly popular Choropleth.</p>
<h3 id="choropleth-map">4.1.4: Choropleth Map</h3>
<p>Plotting out a Choropleth map is actually rather straightforward - we have in fact already dabbled with it earlier as part of the cartogram creation process. Same thing, we use tm_shape to map out the underlying base map, then we add on a tm_polygons layer, with median price as the variable and keeping other format settings similar to what we had done earlier.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>,
              style<span class='op'>=</span><span class='st'>'pretty'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Median Price of Listings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"right"</span>, <span class='st'>"top"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-22-1.png" width="624" /></p>
</div>
<p>With the Choropleth, we have a neater and tidier visualization of the median price of each LGA, and hence, lesser distraction than the cartogram iterations.</p>
<p>In fact, it is possible to combined proportional symbols onto a choropleth to include another dimension of analysis into the viz. We simply have to add in a tm_symbol layer, as we did below, adding average rating for listings within the LGA, corresponding to the size of the square. Indeed, we can even include other categorical or numerical (with small number of value classes) by assigning them to the shape or color parameters to present even multi-dimensional information.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>,
              style<span class='op'>=</span><span class='st'>'pretty'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_symbols</span><span class='op'>(</span>size<span class='op'>=</span><span class='st'>"average_rating"</span>,
             shape<span class='op'>=</span><span class='fl'>22</span>,
             alpha<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Median Price of Listings \n with Proportional Symbols for Average Ratings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"right"</span>, <span class='st'>"top"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-23-1.png" width="624" /></p>
</div>
<p>However, as evident above, the problem of overcrowding and difficulty in comparison and extracting of precise information resurfaces in this iteration. Having more may really mean less in this case: having more data ink that are unhelpful in fact reduces readability.</p>
<p>In view of the above discussion, it can be concluded that a plain Choropleth would make the best geographical visualization of the variable of interest.</p>
<h3 id="further-discussion-and-prototyping-of-choropleth-map">4.1.5: Further Discussion and Prototyping of Choropleth Map</h3>
<h4 id="classification-methods---converting-continuous-numerical-data-to-discrete-class-intervals-with-different-styles">Classification Methods - Converting Continuous Numerical Data to Discrete Class Intervals with Different Styles</h4>
<p><strong><em>Pretty</em></strong></p>
<p>In earlier iterations, we have used the “pretty” style, as with the default of the tmap package. The “pretty” style rounds breaks into whole numbers where possible and spaces them out evenly (and hence “pretty”). We have seen that each class that was derived are indeed evenly spaced out e.g. 50-100, 100-150, etc. However, this would mean that the <em>data points</em>, if not evenly distributed across the classes, will not be even.</p>
<p>To examine this, we can have a view of the distribution by plotting a histogram of the variable’s distribution (in this case, median price of each LGA), and coloring each bar by their class. Good thing is, tmap actually allows us to plot a miniature version of this histogram along the legend, using the <em>legend.hist</em> command (we also shift the legend to outside the map to prevent overlap, and adjust the width of the histogram width for easier viewing).</p>
<p>Further, tmap also allows user to dictate the number of classes to be split. in this case, we can try a new class number by including the ‘<em>n</em>’ parameter (e.g. 4 classes are dictated in the case below).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>,
              style<span class='op'>=</span><span class='st'>'pretty'</span>,
              n<span class='op'>=</span><span class='fl'>4</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>F</span>, 
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Median Price of Listings Average Ratings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-24-1.png" width="624" /></p>
<pre><code>[1] &quot;#FCDEDB&quot; &quot;#FAACB8&quot; &quot;#EE579D&quot; &quot;#AE017E&quot;</code></pre>
</div>
<p>From the viz above, we see that classes are break rather evenly, but the distribution of the data points are less even, with many falling within the 100-200 range and very few in the 300-400 range.</p>
<p>Of course, ‘pretty’ is not the only classification method. Another similar style is ‘<em>fixed</em>’, where the breaks can be manually determine, and a label included to overwrite default labels.</p>
<p><strong><em>Fixed</em></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>,
              style<span class='op'>=</span><span class='st'>'fixed'</span>,
              breaks<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>125</span>,<span class='fl'>175</span>,<span class='fl'>245</span>,<span class='fl'>275</span>,<span class='fl'>400</span><span class='op'>)</span>,
              labels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"low"</span>,<span class='st'>"medium-low"</span>,<span class='st'>"medium"</span>,<span class='st'>"medium-high"</span>,<span class='st'>"high"</span><span class='op'>)</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>F</span>, 
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Median Price of Listings Average Ratings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-25-1.png" width="624" /></p>
<pre><code>[1] &quot;#FDE4E1&quot; &quot;#FBBEBE&quot; &quot;#F87EA9&quot; &quot;#DB3196&quot; &quot;#99017B&quot;</code></pre>
</div>
<p>In the viz above, we tried to manually segment the classes at their natural breaks (i.e. where there are gaps in their distribution as evident in the histogram, we split them). There is also another style, “<em>jenks</em>” that creates classes based on natural breaks using algorithm that maximizes differences between each class.</p>
<p><strong><em>Jenks’ Natural Breaks</em></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>,
              style<span class='op'>=</span><span class='st'>'jenks'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>F</span>, 
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Median Price of Listings Average Ratings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-26-1.png" width="624" /></p>
<pre><code>[1] &quot;#FDE4E1&quot; &quot;#FBBEBE&quot; &quot;#F87EA9&quot; &quot;#DB3196&quot; &quot;#99017B&quot;</code></pre>
</div>
<p>The results are rather similar to the manual natural breaks used, though there are some “misclassed” data points in the fourth class (appears to subsumed one data point that would have been more ‘natural’ with the third class). Though not perfect, this style is useful to identify natural breaks especially for cases where the data set is large and ‘breaks’ are less visibly obvious. There is another similar yet different style using the “<em>fisher</em>” algorithm that maximized homogeneity (i.e. minimizes variance within group).</p>
<p><strong><em>Fisher’s Algorithm</em></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"median_price"</span>,
              style<span class='op'>=</span><span class='st'>'fisher'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>F</span>, 
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Median Price of Listings Average Ratings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-27-1.png" width="624" /></p>
<pre><code>[1] &quot;#FDE4E1&quot; &quot;#FBBEBE&quot; &quot;#F87EA9&quot; &quot;#DB3196&quot; &quot;#99017B&quot;</code></pre>
</div>
<p>In this case, Fisher’s algorithm pretty much does as well in identifying natural breaks as the manual method. There are many more classification methods available in the tmap package, such as quantile, equal, and sd breaks; breaks based on various clustering analysis such as hierarchical, k-means, and bagged; breaks based on logarithm scale; and even option to present the choropleth in a continuous scale. <a href="https://dev.to/jakub_nowosad/map-coloring-the-color-scale-styles-available-in-the-tmap-package-hp3#:~:text=%20Discrete%20maps%20%201%20Pretty.%20When%20the,clustering.%20%205%20k-means%20clustering.%20%20More%20">Nowosad (2020)</a> presents a quick summary of the various methods and links to papers that futher substantiates the theory behind these classification methodologies.</p>
<p>In the conduct of a geospatial analysis and visualization, there would be different circumstances where certain classification method would be more appropriate and/or applicable than another. There could even be situations where different methods would need to be compared with each other. To ensure a holistic and robust geospatial analysis, there is a need to offer autonomy for user to change these parameters during their analysis. While it may be tedious to run individual lines of codes separately, interactivity introduced in the web-based application that allows user to toggle between the different classification methods at the click of a button would exponentially enhance the usability of the application.</p>
<p>Hence, it is critical to include this interactivity in the final Shiny application.</p>
<h4 id="switching-variables-of-interest---interactivity-requirements">Switching Variables of Interest - Interactivity Requirements</h4>
<p>We move on to discuss another aspect of variability - variable of interest.</p>
<p>As informed earlier, the main prototyping used median price for each LGA as the main variable of interest. In the complicated choropleth with proportional symbol in the section immediately above, we also explore including other variables that might be of interest. While including them as additional dimensions within the choropleth map complicates and clutters the limited real estate on the viz, we can easily change the input variable to plot out our choropleth easily (in fact, with just a change to one line of code). As with the above, we explore the distribution of average ratings for all listings within each LGA below, where we changed the first argument of the tm_polygons command from “median_price” to “average_rating”</p>
<p><strong><em>Average Rating</em></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"average_rating"</span>,
              style<span class='op'>=</span><span class='st'>'pretty'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Average Ratings of All Listings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-28-1.png" width="624" /></p>
<pre><code>[1] &quot;#FDE4E1&quot; &quot;#FBBEBE&quot; &quot;#F87EA9&quot; &quot;#DB3196&quot; &quot;#99017B&quot;</code></pre>
</div>
<p>From the viz, it is immediately obvious that average ratings are very heavily skewed to the right, with all LGAs having a ratings of more than 90, and the most common ratings between 94-98. There also appears to be a cluster of higher ratings in central Victoria.</p>
<p><strong><em>Number of Listings</em></strong></p>
<p>We had earlier started off the discussion for this section talking about the count of listings and its geographical spread visualized using the dot density map. Now, we revisit this variable. With the Choropleth, it is now neater and easier to distill the actual numbers even within the cluttered bay area around Melbourne. In this case, though, we are unable to use the ‘pretty’ style, as many the distribution has an extremely long right-tail, with one extreme outlier at Mornington Peninsular with more than 6000 listing in this one LGA alone.</p>
<p>Thinking back, it was audacious thinking we can map 6000 dots altogether in that one small area using the dot density map.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"listing_count"</span>,
              style<span class='op'>=</span><span class='st'>'fisher'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Total Number of Listings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-29-1.png" width="624" /></p>
<pre><code>[1] &quot;#FDE4E1&quot; &quot;#FBBEBE&quot; &quot;#F87EA9&quot; &quot;#DB3196&quot; &quot;#99017B&quot;</code></pre>
</div>
<p><strong><em>Average Response Rate</em></strong></p>
<p>Other than continuous raw data, rate variables such as average acceptance and response rates can also be ploted on the Choropleth, as with the example below for the latter.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>tmap_mode</span><span class='op'>(</span><span class='st'>"plot"</span><span class='op'>)</span>
<span class='fu'>tm_shape</span><span class='op'>(</span><span class='va'>vic_sf_clean</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_polygons</span><span class='op'>(</span><span class='st'>"average_response_rate"</span>,
              style<span class='op'>=</span><span class='st'>'fisher'</span>,
              palette<span class='op'>=</span><span class='st'>'RdPu'</span>,
              legend.hist<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>tm_layout</span><span class='op'>(</span>frame <span class='op'>=</span> <span class='cn'>FALSE</span>,
            main.title<span class='op'>=</span><span class='st'>'Choropleth Map for Average Response Rates of all Listings in each LGA'</span>,
            main.title.size <span class='op'>=</span> <span class='fl'>1</span>,
            main.title.position <span class='op'>=</span> <span class='st'>"center"</span>,
            legend.outside <span class='op'>=</span> <span class='cn'>T</span>,
            legend.hist.width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="assignment-jason-tey_files/figure-html5/unnamed-chunk-30-1.png" width="624" /></p>
<pre><code>[1] &quot;#FDE4E1&quot; &quot;#FBBEBE&quot; &quot;#F87EA9&quot; &quot;#DB3196&quot; &quot;#99017B&quot;</code></pre>
</div>
<p>Similarly, we found an outlier in Western Victoria (West Wimmera) where response rates appears suspisciously lower than surrounding LGAs.</p>
<p>To conclude this sub-section, there is hence a need for interactivity in the web-based application to be developed in order to support more diverse and robust analytical usage.</p>
<h2 id="testing-and-prototyping-sub-module-2---geospatial-analysis">4.2: Testing and Prototyping Sub-module 2 - Geospatial Analysis</h2>
<p>In the geospatial visualization above, we noticed some of the variables of interest such as the median price (around Melbourne bay area) and average ratings (in Central Victoria) appears to have some apparent clusters of high values. On the other hand, we also idenfitied some outliers such as the number of listings at the Mornington Peninsular and response rate in West Wimmera.</p>
<p>How do we exactly justify whether these clusters and outliers are really there, statistically speaking? That is, how can we be sure that what appears to be a cluster of high values or outlier of apparent high value in low value areas are not due to randomness in the geospatial distribution of these variables? That is the thesis statement for this section - geospatial cluster and outlier analysis.</p>
<p>A more in-depth discussion on the theoretical aspect of this topic can be found in Section 2.2 above. In this section, we will be prototyping both the Getis-Ord’s G z-score plots and the Anselin’s Local Moran’s I plots, using the <em>spdep</em> package. However, before we dive straight into the derivation of the spatial association indicators, we will first need to define the ‘<strong><em>neighbors</em></strong>’ that we need to consider when analyzing clusters and outliers.</p>
<h3 id="patial-weights-choice-of-neighborhood">4.2.1 patial Weights: Choice of Neighborhood</h3>
<p>There are several methods to deriving this neighbor list that would be needed subsequently to derive the spatial weight for spatial association analysis. Broadly speaking, there are two types of neighborhoods:</p>
<ol type="1">
<li><p><strong>Contiguity-based neighborhood</strong>, which considers neighboring polygons to be those that are in contact with a subject polygon. Using the international chess board as an analogy, two sub categories are considered, a) Queen’s case - which considers all immediate neighbors in all direction, and b) Rook’s case - which considers neigbors that share a line segment. The <strong><em>poly2nb</em></strong> function from the <strong>spdep</strong> package provides the calculation of these contiguity-based neighborhood spatial weights.</p></li>
<li><p><strong>Distance-based neighborhood</strong>, which are constraints driven, considering neighbors as those within a given proximity threshold from a polygon centroid. Similarly, two sub categories are considered in this paper, a) K-nearest neighbors - which selects the k number of neighbors closest to the centroid of subject polygon, and b) Distance - which, as the name suggests, selects all neighbors within a pre-determined set of minimum (typically 0) and maximum distance. <strong><em>knn2b</em></strong> together with <strong><em>knearneigh</em></strong> as well as <strong><em>dnearneigh</em></strong> functions from the same spdep package are used to derive these neighbor lists.</p></li>
</ol>
<p>We start first with the Contiguity-based cases: the code is a simple one-liner. Where <em>queen</em> equals to True, the Queen’s case is considered; and when False, the Rook’s.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
